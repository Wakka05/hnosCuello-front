<div class="content page-structure min-height-page" *ngIf="!showSpinner && !userId">
  <div class="list">
    <div class="row">
      <div class="column" style="padding-left:20px">
        <span>Nombre</span>
      </div>
      <div class="column">
        <span>Apellidos</span>
      </div>
      <div class="column">
        <span>Email</span>
      </div>
    </div>
    <div class="row users" *ngFor="let user of users; let i=index" (click)="goToOrder()">
      <div class="column" style="padding-left:20px">
        <span>{{ user.name }}</span>
      </div>
      <div class="column">
        <span>{{ user.surnames }}</span>
      </div>
      <div class="column">
        <span>{{ user.email }}</span>
      </div>
    </div>
  </div>
</div>
<div class="content page-structure min-height-page" *ngIf="!showSpinner && userId">
    <div class="list">
      <div class="row">
        <div class="column" style="padding-left:20px">
          <span>Pedido</span>
        </div>
        <div class="column">
          <span>Nombre del producto</span>
        </div>
        <div class="column">
          <span>Cantidad</span>
        </div>
        <div class="column">
          <span>Precio</span>
        </div>
        <div class="column remove"></div>
      </div>
      <div class="row orders" *ngFor="let order of orders; let i=index">
        <div class="column" style="padding-left:20px">
          <span>{{ i+1 }}</span>
        </div>
        <div class="column">
          <span>{{ order.product.title }}</span>
        </div>
        <div class="column">
          <span>{{ order.quantity }}</span>
        </div>
        <div class="column">
          <span>{{ order.finalPrice }}€</span>
        </div>
        <div class="column remove">
          <mat-icon *ngIf="!user.order.isConfirmed" style="cursor: pointer" (click)="removeOrder(order)">close</mat-icon>
        </div>
      </div>
    </div>
    <div *ngIf="!user.order.isConfirmed" class="confirm-order">
      <div><span>Precio final: {{ finalPrice }} €</span></div>
      <button *ngIf="userId === user._id" class="mat-flat-button mat-primary" (click)="confirm()">Confirmar pedido</button>
    </div>
    <div *ngIf="user.order.isConfirmed" class="confirm-order">
      <div><span>Pedido realizado.</span></div>
      <div><span>Precio final: {{ finalPrice }} €</span></div>
      </div>
  </div>
<div class="container-spinner page-structure min-height-page" *ngIf="showSpinner">
    <mat-spinner [diameter]="100" [strokeWidth]="10"></mat-spinner>
</div>
<app-footer></app-footer>
